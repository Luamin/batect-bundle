containers:
  dotnet-build-env:
    build_directory: ./Dockerfiles/dotnetbuild

  yamllint:
    build_directory: ./Dockerfiles/yamllint
    volumes:
      - local: <{batect.project_directory}
        container: /code
        options: ro
    working_directory: /code

tasks:
  lint:yaml:
    description: Check formatting of all YAML files.
    group: Formatting check tasks
    run:
      container: yamllint
      command: yamllint --strict .


  lint:csharp:
    description: Run dotnet linting tasks.
    group: Formatting check tasks
    run:
      container: dotnet-build-env
      command: dotnet format